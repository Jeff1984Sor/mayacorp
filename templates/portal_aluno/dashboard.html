{% extends 'portal_aluno/base_mobile.html' %}
{% load static %}

{% block content %}
<div class="animate-in fade-in duration-700">

    <!-- 1. GREETING & STATUS (Soft UI) -->
    <div class="mb-10 mt-2">
        <h2 class="text-3xl font-black text-slate-800 tracking-tight">
            Ol√°, {{ aluno.nome|truncatewords:1|cut:"..." }}! üßò‚Äç‚ôÄÔ∏è
        </h2>
        <p class="text-slate-400 font-medium mt-1">Pronto(a) para sua pr√°tica de hoje?</p>
    </div>

    <!-- 2. CARD PR√ìXIMA AULA (Hero Widget) -->
    <section class="relative bg-white rounded-[35px] p-8 shadow-2xl shadow-serene-blue/15 border border-white overflow-hidden mb-10 group">
        <!-- Detalhe decorativo suave -->
        <div class="absolute top-0 right-0 w-32 h-32 bg-serene-blue/5 rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform duration-700"></div>
        
        <div class="relative z-10">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-8 h-8 bg-serene-blue/20 rounded-xl flex items-center justify-center text-serene-blue">
                    <i class="fas fa-calendar-check text-xs"></i>
                </div>
                <span class="text-[10px] font-black text-slate-400 uppercase tracking-[2px]">Sua Pr√≥xima Aula</span>
            </div>

            {% if proxima %}
                <h3 class="text-4xl font-black text-slate-800 italic tracking-tighter mb-1">
                    {{ proxima.aula.data_hora_inicio|date:"H:i" }}
                </h3>
                <p class="text-lg font-bold text-slate-600 mb-6">
                    {{ proxima.aula.data_hora_inicio|date:"l, d \d\e F" }}
                </p>
                
                <div class="flex items-center justify-between pt-6 border-t border-slate-50">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-slate-100 border-2 border-white shadow-sm overflow-hidden text-center flex items-center justify-center text-xs font-black text-slate-300 uppercase">
                            {{ proxima.aula.profissional.nome|slice:":2" }}
                        </div>
                        <span class="text-xs font-bold text-slate-400">Prof. {{ proxima.aula.profissional.nome }}</span>
                    </div>
                    <button class="btn btn-sm bg-mint-green border-none text-emerald-800 rounded-xl px-4 font-black uppercase text-[10px] shadow-lg shadow-mint-green/20">
                        Check-in
                    </button>
                </div>
            {% else %}
                <div class="py-4">
                    <p class="text-slate-300 font-medium italic">Nenhuma aula agendada para os pr√≥ximos dias.</p>
                    <button class="btn btn-ghost p-0 mt-2 text-serene-blue font-black uppercase text-[10px] tracking-widest">Agendar Agora ‚Üí</button>
                </div>
            {% endif %}
        </div>
    </section>

    <!-- 3. MINI ESTAT√çSTICA (Frequ√™ncia) -->
    <div class="bg-mint-green/10 rounded-[30px] p-6 mb-10 flex items-center justify-between border border-mint-green/10">
        <div class="flex items-center gap-4">
            <div class="radial-progress text-mint-green" style="--value:85; --size:3rem; --thickness: 4px;" role="progressbar">
                <span class="text-[10px] font-black text-emerald-800">85%</span>
            </div>
            <div>
                <h4 class="text-xs font-black text-emerald-800 uppercase tracking-widest">Sua Assiduidade</h4>
                <p class="text-[10px] text-emerald-600/70 font-medium">Voc√™ √© incr√≠vel! Continue assim.</p>
            </div>
        </div>
        <i class="fas fa-award text-mint-green text-xl opacity-50"></i>
    </div>

    <!-- 4. ATALHOS R√ÅPIDOS (Grid de Cards) -->
    <div class="flex items-center gap-3 mb-6 px-2">
        <div class="h-[1px] w-6 bg-slate-200"></div>
        <h5 class="text-[10px] font-black text-slate-300 uppercase tracking-[3px]">A√ß√µes do Aluno</h5>
    </div>

    <div class="grid grid-cols-2 gap-6 pb-10">
        
        <!-- Marcar Aula -->
        <a href="{% url 'aluno_agenda' %}" class="group bg-white p-6 rounded-[32px] shadow-xl shadow-slate-200/40 border border-white flex flex-col items-center text-center gap-4 transition-all hover:-translate-y-1 active:scale-95">
            <div class="w-14 h-14 bg-serene-blue/10 rounded-2xl flex items-center justify-center text-serene-blue group-hover:bg-serene-blue group-hover:text-white transition-all duration-500 shadow-inner">
                <i class="fas fa-calendar-plus text-xl"></i>
            </div>
            <span class="text-xs font-black text-slate-700 uppercase tracking-tighter leading-tight">Marcar<br>Aula</span>
        </a>

        <!-- Meus Contratos -->
        <a href="#" class="group bg-white p-6 rounded-[32px] shadow-xl shadow-slate-200/40 border border-white flex flex-col items-center text-center gap-4 transition-all hover:-translate-y-1 active:scale-95">
            <div class="w-14 h-14 bg-soft-lavender/30 rounded-2xl flex items-center justify-center text-purple-500 group-hover:bg-soft-lavender group-hover:text-purple-700 transition-all duration-500 shadow-inner">
                <i class="fas fa-file-invoice text-xl"></i>
            </div>
            <span class="text-xs font-black text-slate-700 uppercase tracking-tighter leading-tight">Meus<br>Contratos</span>
        </a>

        <!-- Financeiro -->
        <a href="{% url 'aluno_financeiro' %}" class="group bg-white p-6 rounded-[32px] shadow-xl shadow-slate-200/40 border border-white flex flex-col items-center text-center gap-4 transition-all hover:-translate-y-1 active:scale-95">
            <div class="w-14 h-14 bg-mint-green/15 rounded-2xl flex items-center justify-center text-emerald-600 group-hover:bg-mint-green group-hover:text-emerald-900 transition-all duration-500 shadow-inner">
                <i class="fas fa-wallet text-xl"></i>
            </div>
            <span class="text-xs font-black text-slate-700 uppercase tracking-tighter leading-tight">Pagamentos<br>e Faturas</span>
        </a>

        <!-- Mensagens -->
        <a href="#" class="group bg-white p-6 rounded-[32px] shadow-xl shadow-slate-200/40 border border-white flex flex-col items-center text-center gap-4 transition-all hover:-translate-y-1 active:scale-95">
            <div class="w-14 h-14 bg-rose-50 rounded-2xl flex items-center justify-center text-rose-400 group-hover:bg-rose-100 transition-all duration-500 shadow-inner">
                <i class="fas fa-comment-dots text-xl"></i>
            </div>
            <span class="text-xs font-black text-slate-700 uppercase tracking-tighter leading-tight">Falar com<br>Studio</span>
        </a>

    </div>

</div>

<style>
    /* Estiliza√ß√£o para o texto de greeting subir suavemente */
    .animate-in {
        animation-duration: 0.8s;
        animation-fill-mode: both;
    }
</style>
{% endblock %}